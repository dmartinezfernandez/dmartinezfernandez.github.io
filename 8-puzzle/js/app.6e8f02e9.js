(function(e){function t(t){for(var r,l,c=t[0],a=t[1],u=t[2],b=0,d=[];b<c.length;b++)l=c[b],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&d.push(i[l][0]),i[l]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);s&&s(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var a=n[c];0!==i[a]&&(r=!1)}r&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},i={app:0},o=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/8-puzzle/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=a;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"24b4":function(e,t,n){e.exports=n.p+"img/default.3a95a878.jpg"},4100:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("830f"),i=n("5c40"),o=n("24b4"),l=n.n(o);const c=Object(i["x"])("data-v-3b0a253c");Object(i["q"])("data-v-3b0a253c");const a={id:"app"},u=Object(i["i"])("  ",1),s=Object(i["i"])("  "),b=Object(i["j"])("br",null,null,-1),d=Object(i["j"])("img",{src:l.a,style:{width:"calc(var(--tile-side) * 0.66)",height:"calc(var(--tile-side) * 0.66)","margin-top":"8px"}},null,-1),h={style:{display:"none"}},p={type:"file",name:"file",id:"file",ref:"fileInput"},f=Object(i["i"])("  ",1),j=Object(i["j"])("br",null,null,-1),g=Object(i["j"])("br",null,null,-1),m=Object(i["j"])("br",null,null,-1),O=Object(i["i"])("  8-puzzle ",1),v=Object(i["j"])("br",null,null,-1),y=Object(i["j"])("footer",{class:"darker"},[Object(i["i"])(" © 2020 Daniel Martínez Fernández "),Object(i["j"])("br"),Object(i["i"])("MIT License ")],-1);Object(i["p"])();const S=c((function(e,t){const r=Object(i["s"])("Board");return Object(i["o"])(),Object(i["f"])("div",a,[Object(i["j"])(r,{imageSrc:n("24b4"),class:"board",ref:"board"},null,8,["imageSrc"]),u,Object(i["j"])("aside",null,[Object(i["j"])("input",{type:"button",value:"Shuffle",onClick:t[1]||(t[1]=t=>e.shuffle(t))}),s,Object(i["j"])("input",{type:"button",value:"Initialize",onClick:t[2]||(t[2]=t=>e.initialize(t))}),b,d,Object(i["j"])("div",h,[Object(i["j"])("input",p,null,512),f,Object(i["j"])("input",{type:"button",value:"Change picture...",onClick:t[3]||(t[3]=t=>e.changePicture(t))}),j,g]),m,O,v,y])])}));var w=n("a1e9");const k=Object(i["x"])("data-v-6c60a852"),M=k((function(e,t){const n=Object(i["s"])("Tile");return Object(i["o"])(),Object(i["f"])("div",{class:"grid-container",key:e.componentKey},[(Object(i["o"])(!0),Object(i["f"])(i["c"],null,Object(i["r"])(e.game.board,(t,r)=>(Object(i["o"])(),Object(i["f"])(n,{key:r,number:t,row:e.game.getRow(r)+1,column:e.game.getColumn(r)+1,imageSrc:e.imageSrc,opacity:e.game.isBlank(r)?"0.05":"1",canSlide:e.game.canSlide(r),onClick:t=>e.onClick(r,e.componentKey),class:"tile"},null,8,["number","row","column","imageSrc","opacity","canSlide","onClick"]))),128))])}));function x(e,t){return Object(i["o"])(),Object(i["f"])("div",{style:{"grid-row":e.row,"grid-column":e.column,width:"var(--tile-side)",height:"var(--tile-side)",overflow:"hidden",cursor:e.canSlide?"pointer":"default",opacity:e.opacity}},[Object(i["j"])("img",{src:e.imageSrc,title:e.number,style:{width:"var(--board-side)",height:"var(--board-side)","margin-left":"calc(var(--tile-side) * -"+(e.number-1)%3+")","margin-top":"calc(var(--tile-side) * -"+Math.trunc((e.number-1)/3)+")"}},null,12,["src","title"])],4)}var C={name:"Tile",props:{number:Number,row:Number,column:Number,imageSrc:String,opacity:String,canSlide:Boolean}};C.render=x;var z=C;const _=[1,2,3,4,5,6,7,8,9];class B{constructor(){this.board=[..._],this.count=0,this.initialize=()=>{console.clear();for(let e=0;e<_.length;e++)this.board[e]=_[e];this.count=0},this.shuffle=()=>{console.clear(),this.board=[..._];const e=1024;let t=0,n=1+Math.floor(5*Math.random());console.log("Shuffle tiles: "+n);let r=!1;for(let i=0;i<n;i++){console.log("i = "+i),r=!1;while(!r){if(++t>=e)break;let n=Math.floor(9*Math.random());console.log("Try board["+n+"] = "+this.board[n]),this.board[n]==n+1&&this.canSlide(n)&&(console.log("OK "+this.board.join()),this.slide(n),r=!0)}}this.count=0},this.isBlank=e=>9==this.board[e],this.getBlankIndex=()=>this.board.indexOf(9),this.getRow=e=>Math.trunc(e/3),this.getColumn=e=>e%3,this.canSlide=e=>{let t=this.getBlankIndex(),n=this.getRow(e),r=this.getColumn(e),i=this.getRow(t),o=this.getColumn(t);return n==i&&1==Math.abs(r-o)||r==o&&1==Math.abs(n-i)},this.slide=e=>{let t=this.canSlide(e);if(t){let t=this.getBlankIndex(),n=this.board[t];this.board[t]=this.board[e],this.board[e]=n,this.count++}return t}}}var I=Object(w["g"])({clicks:[],game:new B}),P={name:"Board",components:{Tile:z},props:{msg:String,imageSrc:String},setup(e){const t=Object(w["g"])(I.game),n=Object(w["h"])(!1),r=e=>{I.game.slide(e)&&(n.value=!n.value),console.log("Move: "+e+", count: "+I.game.count+", board: "+t.board.join())},i=()=>{n.value=!n.value};return{game:t,componentKey:n,onClick:r,refresh:i}}};n("e6c7");P.render=M,P.__scopeId="data-v-6c60a852";var T=P;var K={name:"App",components:{Board:T},setup(){const e=Object(w["h"])(null),t=Object(w["h"])(null),n=Object(w["h"])(null);Object(i["m"])(()=>{e.value=()=>{t.value.click()}});const r=Object(w["h"])(()=>{I.game.shuffle(),n.value.refresh()}),o=Object(w["h"])(()=>{I.game.initialize(),n.value.refresh()});return{changePicture:e,fileInput:t,board:n,shuffle:r,initialize:o}}};n("4100");K.render=S,K.__scopeId="data-v-3b0a253c";var R=K;const N=Object(r["a"])(R);N.mount("#app")},e6c7:function(e,t,n){}});
//# sourceMappingURL=app.6e8f02e9.js.map