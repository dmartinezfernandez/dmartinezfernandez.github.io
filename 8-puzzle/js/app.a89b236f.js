(function(e){function t(t){for(var r,c,o=t[0],a=t[1],u=t[2],b=0,d=[];b<o.length;b++)c=o[b],Object.prototype.hasOwnProperty.call(l,c)&&l[c]&&d.push(l[c][0]),l[c]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);s&&s(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==l[a]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},l={app:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/8-puzzle/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var s=a;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"24b4":function(e,t,n){e.exports=n.p+"img/default.3a95a878.jpg"},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("830f"),l=n("5c40"),i=n("24b4"),c=n.n(i);const o=Object(l["x"])("data-v-3c19cfe1");Object(l["q"])("data-v-3c19cfe1");const a={id:"app"},u=Object(l["i"])("  ",1),s=Object(l["i"])(" 8-puzzle "),b=Object(l["j"])("br",null,null,-1),d=Object(l["j"])("br",null,null,-1),h=Object(l["j"])("img",{src:c.a,style:{width:"calc(var(--tile-side) * 0.66)",height:"calc(var(--tile-side) * 0.66)"}},null,-1),f=Object(l["j"])("br",null,null,-1),p={style:{display:"none"}},j={type:"file",name:"file",id:"file",ref:"fileInput"},g=Object(l["i"])("  ",1),O=Object(l["j"])("br",null,null,-1),m=Object(l["j"])("br",null,null,-1),v=Object(l["i"])("  "),y=Object(l["j"])("br",null,null,-1),w=Object(l["i"])("  ",1),S=Object(l["j"])("br",null,null,-1),k=Object(l["j"])("footer",{class:"darker"},[Object(l["i"])(" © 2020 Daniel Martínez Fernández "),Object(l["j"])("br"),Object(l["i"])("MIT License ")],-1);Object(l["p"])();const x=o((function(e,t){const r=Object(l["s"])("Board");return Object(l["o"])(),Object(l["f"])("div",a,[Object(l["j"])(r,{imageSrc:n("24b4"),class:"board",ref:"board"},null,8,["imageSrc"]),u,Object(l["j"])("aside",null,[s,b,d,h,f,Object(l["j"])("div",p,[Object(l["j"])("input",j,null,512),g,Object(l["j"])("input",{type:"button",value:"Change picture...",onClick:t[1]||(t[1]=t=>e.changePicture(t))}),O,m]),Object(l["j"])("input",{type:"button",value:"Shuffle",onClick:t[2]||(t[2]=t=>e.shuffle(t))}),v,Object(l["j"])("input",{type:"button",value:"Initialize",onClick:t[3]||(t[3]=t=>e.initialize(t))}),y,w,S,k])])}));var M=n("a1e9");const C=Object(l["x"])("data-v-6c60a852"),z=C((function(e,t){const n=Object(l["s"])("Tile");return Object(l["o"])(),Object(l["f"])("div",{class:"grid-container",key:e.componentKey},[(Object(l["o"])(!0),Object(l["f"])(l["c"],null,Object(l["r"])(e.game.board,(t,r)=>(Object(l["o"])(),Object(l["f"])(n,{key:r,number:t,row:e.game.getRow(r)+1,column:e.game.getColumn(r)+1,imageSrc:e.imageSrc,opacity:e.game.isBlank(r)?"0.05":"1",canSlide:e.game.canSlide(r),onClick:t=>e.onClick(r,e.componentKey),class:"tile"},null,8,["number","row","column","imageSrc","opacity","canSlide","onClick"]))),128))])}));function _(e,t){return Object(l["o"])(),Object(l["f"])("div",{style:{"grid-row":e.row,"grid-column":e.column,width:"var(--tile-side)",height:"var(--tile-side)",overflow:"hidden",cursor:e.canSlide?"pointer":"default",opacity:e.opacity}},[Object(l["j"])("img",{src:e.imageSrc,title:e.number,style:{width:"var(--board-side)",height:"var(--board-side)","margin-left":"calc(var(--tile-side) * -"+(e.number-1)%3+")","margin-top":"calc(var(--tile-side) * -"+Math.trunc((e.number-1)/3)+")"}},null,12,["src","title"])],4)}var B={name:"Tile",props:{number:Number,row:Number,column:Number,imageSrc:String,opacity:String,canSlide:Boolean}};B.render=_;var I=B;let P=e=>{let t=0;for(let n=0;n<e.length-1;n++)for(let r=n+1;r<e.length;r++)e[n]>e[r]&&9!=e[n]&&9!=e[r]&&t++;return t%2},T=e=>{let t=[],n=[],r=P(e);do{t=[...e],n=[];while(t.length>0){let e=Math.floor(Math.random()*t.length);n.push(t.splice(e,1)[0])}}while(P(n)!=r);for(let l=0;l<e.length;l++)e[l]=n[l]};const R=[1,2,3,4,5,6,7,8,9];class K{constructor(){this.board=[...R],this.count=0,this.initialize=()=>{console.clear();for(let e=0;e<R.length;e++)this.board[e]=R[e];this.count=0},this.shuffle=()=>{console.clear(),T(this.board),this.count=0},this.isBlank=e=>9==this.board[e],this.getBlankIndex=()=>this.board.indexOf(9),this.getRow=e=>Math.trunc(e/3),this.getColumn=e=>e%3,this.canSlide=e=>{let t=this.getBlankIndex(),n=this.getRow(e),r=this.getColumn(e),l=this.getRow(t),i=this.getColumn(t);return n==l&&1==Math.abs(r-i)||r==i&&1==Math.abs(n-l)},this.slide=e=>{let t=this.canSlide(e);if(t){let t=this.getBlankIndex(),n=this.board[t];this.board[t]=this.board[e],this.board[e]=n,this.count++}return t}}}var N=Object(M["g"])({clicks:[],game:new K}),J={name:"Board",components:{Tile:I},props:{msg:String,imageSrc:String},setup(e){const t=Object(M["g"])(N.game),n=Object(M["h"])(!1),r=e=>{N.game.slide(e)&&(n.value=!n.value),console.log("Move: "+e+", count: "+N.game.count+", board: "+t.board.join())},l=()=>{n.value=!n.value};return{game:t,componentKey:n,onClick:r,refresh:l}}};n("e6c7");J.render=z,J.__scopeId="data-v-6c60a852";var q=J;var A={name:"App",components:{Board:q},setup(){const e=Object(M["h"])(null),t=Object(M["h"])(null),n=Object(M["h"])(null);Object(l["m"])(()=>{e.value=()=>{t.value.click()}});const r=Object(M["h"])(()=>{N.game.shuffle(),n.value.refresh()}),i=Object(M["h"])(()=>{N.game.initialize(),n.value.refresh()});return{changePicture:e,fileInput:t,board:n,shuffle:r,initialize:i}}};n("96f9");A.render=x,A.__scopeId="data-v-3c19cfe1";var D=A;const F=Object(r["a"])(D);F.mount("#app")},"96f9":function(e,t,n){},e6c7:function(e,t,n){}});
//# sourceMappingURL=app.a89b236f.js.map