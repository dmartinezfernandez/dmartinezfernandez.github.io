(function(e){function t(t){for(var r,c,o=t[0],a=t[1],u=t[2],b=0,d=[];b<o.length;b++)c=o[b],Object.prototype.hasOwnProperty.call(l,c)&&l[c]&&d.push(l[c][0]),l[c]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);s&&s(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==l[a]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},l={app:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/8-puzzle/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var s=a;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"24b4":function(e,t,n){e.exports=n.p+"img/default.3a95a878.jpg"},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("830f"),l=n("5c40"),i=n("24b4"),c=n.n(i);const o=Object(l["y"])("data-v-e0509cc8");Object(l["q"])("data-v-e0509cc8");const a={id:"app"},u=Object(l["g"])("  "),s=Object(l["h"])("br",null,null,-1),b=Object(l["h"])("img",{src:c.a,style:{width:"calc(var(--tile-side) * 0.66)",height:"calc(var(--tile-side) * 0.66)","margin-top":"8px"}},null,-1),d=Object(l["h"])("br",null,null,-1),h=Object(l["h"])("br",null,null,-1),p=Object(l["g"])(" 8-puzzle "),f=Object(l["h"])("br",null,null,-1),g=Object(l["h"])("a",{href:".?mode=kids"},"Kids",-1),m=Object(l["g"])("/"),j=Object(l["h"])("a",{href:".?mode=random"},"random",-1),O=Object(l["g"])(" mode "),v=Object(l["h"])("br",null,null,-1),y=Object(l["h"])("footer",{class:"darker"},[Object(l["g"])(" © 2021 Daniel Martínez Fernández "),Object(l["h"])("br"),Object(l["g"])("MIT License ")],-1),w={style:{display:"none"}},S={type:"file",name:"file",id:"file",ref:"fileInput"},k=Object(l["h"])("br",null,null,-1),M=Object(l["h"])("br",null,null,-1),x=Object(l["h"])("br",null,null,-1);Object(l["p"])();const z=o((e,t)=>{const r=Object(l["s"])("Board");return Object(l["o"])(),Object(l["d"])("div",a,[Object(l["h"])(r,{key:e.componentKey,imageSrc:n("24b4"),class:"board",ref:"board"},null,8,["imageSrc"]),Object(l["h"])("aside",null,[Object(l["h"])("input",{type:"button",value:"Shuffle",onClick:t[1]||(t[1]=(...t)=>e.shuffle&&e.shuffle(...t))}),u,Object(l["h"])("input",{type:"button",value:"Initialize",onClick:t[2]||(t[2]=(...t)=>e.initialize&&e.initialize(...t))}),s,b,d,h,p,f,g,m,j,O,v,y,Object(l["h"])("div",w,[Object(l["h"])("input",S,null,512),Object(l["h"])("input",{type:"button",value:"Change picture...",onClick:t[3]||(t[3]=(...t)=>e.changePicture&&e.changePicture(...t))}),k,M]),x])])});var C=n("a1e9");const P=Object(l["y"])("data-v-5a3a6859"),_=P((e,t)=>{const n=Object(l["s"])("Tile");return Object(l["o"])(),Object(l["d"])("div",{class:"grid-container",key:e.componentKey},[(Object(l["o"])(!0),Object(l["d"])(l["b"],null,Object(l["r"])(e.game.board,(t,r)=>(Object(l["o"])(),Object(l["d"])(n,{key:{index:r},number:t,row:e.game.getRow(r)+1,column:e.game.getColumn(r)+1,imageSrc:e.imageSrc,opacity:e.game.isBlank(r)?"0.05":"1",canSlide:e.game.canSlide(r),onClick:t=>e.onClick(r),class:"tile"},null,8,["number","row","column","imageSrc","opacity","canSlide","onClick"]))),128))])});let B=e=>{let t=0;for(let n=0;n<e.length-1;n++)for(let r=n+1;r<e.length;r++)e[n]>e[r]&&9!=e[n]&&9!=e[r]&&t++;return t%2},I=e=>{let t=[],n=[],r=B(e);do{t=[...e],n=[];while(t.length>0){let e=Math.floor(Math.random()*t.length);n.push(t.splice(e,1)[0])}}while(B(n)!=r);for(let l=0;l<e.length;l++)e[l]=n[l]},T=e=>{e.board=[...K];const t=1024;let n=0,r=1+Math.floor(5*Math.random()),l=!1;for(let i=0;i<r;i++){l=!1;while(!l){if(++n>=t)break;let r=Math.floor(9*Math.random());e.board[r]==r+1&&e.canSlide(r)&&(e.slide(r),l=!0)}}};const K=[1,2,3,4,5,6,7,8,9];class R{constructor(){this.board=[...K],this.count=0,this.initialize=()=>{for(let e=0;e<K.length;e++)this.board[e]=K[e];this.count=0},this.shuffle=e=>{e?T(this):I(this.board),this.count=0},this.isBlank=e=>9==this.board[e],this.getBlankIndex=()=>this.board.indexOf(9),this.getRow=e=>Math.trunc(e/3),this.getColumn=e=>e%3,this.canSlide=e=>{let t=this.getBlankIndex(),n=this.getRow(e),r=this.getColumn(e),l=this.getRow(t),i=this.getColumn(t);return n==l&&1==Math.abs(r-i)||r==i&&1==Math.abs(n-l)},this.slide=e=>{let t=this.canSlide(e);if(t){let t=this.getBlankIndex(),n=this.board[t];this.board[t]=this.board[e],this.board[e]=n,this.count++}return t}}}var N=Object(C["i"])({clicks:[],game:new R});function J(e,t){return Object(l["o"])(),Object(l["d"])("div",{style:{"grid-row":e.row,"grid-column":e.column,width:"var(--tile-side)",height:"var(--tile-side)",overflow:"hidden",cursor:e.canSlide?"pointer":"default",opacity:e.opacity}},[Object(l["h"])("img",{src:e.imageSrc,title:e.number,style:{width:"var(--board-side)",height:"var(--board-side)","margin-left":"calc(var(--tile-side) * -"+(e.number-1)%3+")","margin-top":"calc(var(--tile-side) * -"+Math.trunc((e.number-1)/3)+")"}},null,12,["src","title"])],4)}var L={name:"Tile",props:{number:Number,row:Number,column:Number,imageSrc:String,opacity:String,canSlide:Boolean}};L.render=J;var q=L,A={name:"Board",components:{Tile:q},props:{msg:String,imageSrc:String},setup(){const e=Object(C["i"])(N.game),t=Object(C["j"])(!1),n=e=>{N.game.slide(e)&&(t.value=!t.value)};return{game:e,componentKey:t,onClick:n}}};n("989e");A.render=_,A.__scopeId="data-v-5a3a6859";var D=A,F={name:"App",components:{Board:D},setup(){let e="kids"===new URLSearchParams(window.location.search).get("mode");console.log("?mode=kids "+e);const t=Object(C["j"])(null),n=Object(C["j"])(null),r=Object(C["j"])(!1);Object(l["m"])(()=>{t.value=()=>{n.value.click()}});const i=Object(C["j"])(()=>{console.clear(),N.game.shuffle(e),r.value=!r.value}),c=Object(C["j"])(()=>{console.clear(),N.game.initialize(),r.value=!r.value});return{changePicture:t,fileInput:n,shuffle:i,initialize:c,componentKey:r}}};n("b8b7");F.render=z,F.__scopeId="data-v-e0509cc8";var U=F;const E=Object(r["a"])(U);E.mount("#app")},"989e":function(e,t,n){},b8b7:function(e,t,n){}});
//# sourceMappingURL=app.2a810371.js.map