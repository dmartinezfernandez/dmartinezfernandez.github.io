(function(e){function t(t){for(var r,i,c=t[0],a=t[1],u=t[2],b=0,d=[];b<c.length;b++)i=c[b],Object.prototype.hasOwnProperty.call(l,i)&&l[i]&&d.push(l[i][0]),l[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);s&&s(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var a=n[c];0!==l[a]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},l={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/8-puzzle/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=a;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"24b4":function(e,t,n){e.exports=n.p+"img/default.3a95a878.jpg"},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("830f"),l=n("5c40"),o=n("24b4"),i=n.n(o);const c=Object(l["x"])("data-v-39e9e382");Object(l["q"])("data-v-39e9e382");const a={id:"app"},u=Object(l["i"])("  ",1),s=Object(l["i"])("  "),b=Object(l["j"])("br",null,null,-1),d=Object(l["j"])("img",{src:i.a,style:{width:"calc(var(--tile-side) * 0.66)",height:"calc(var(--tile-side) * 0.66)","margin-top":"8px"}},null,-1),h=Object(l["j"])("br",null,null,-1),j=Object(l["j"])("br",null,null,-1),f=Object(l["i"])(" 8-puzzle "),p=Object(l["j"])("br",null,null,-1),g=Object(l["j"])("a",{href:".?mode=kids"},"Kids",-1),m=Object(l["i"])("/"),O=Object(l["j"])("a",{href:".?mode=random"},"random",-1),v=Object(l["i"])(" mode "),y=Object(l["j"])("br",null,null,-1),w=Object(l["j"])("footer",{class:"darker"},[Object(l["i"])(" © 2020 Daniel Martínez Fernández "),Object(l["j"])("br"),Object(l["i"])("MIT License ")],-1),S={style:{display:"none"}},k={type:"file",name:"file",id:"file",ref:"fileInput"},M=Object(l["i"])("  ",1),x=Object(l["j"])("br",null,null,-1),z=Object(l["j"])("br",null,null,-1),C=Object(l["j"])("br",null,null,-1),P=Object(l["i"])();Object(l["p"])();const _=c((function(e,t){const r=Object(l["s"])("Board");return Object(l["o"])(),Object(l["f"])("div",a,[Object(l["j"])(r,{imageSrc:n("24b4"),class:"board",ref:"board"},null,8,["imageSrc"]),u,Object(l["j"])("aside",null,[Object(l["j"])("input",{type:"button",value:"Shuffle",onClick:t[1]||(t[1]=t=>e.shuffle(t))}),s,Object(l["j"])("input",{type:"button",value:"Initialize",onClick:t[2]||(t[2]=t=>e.initialize(t))}),b,d,h,j,f,p,g,m,O,v,y,w,Object(l["j"])("div",S,[Object(l["j"])("input",k,null,512),M,Object(l["j"])("input",{type:"button",value:"Change picture...",onClick:t[3]||(t[3]=t=>e.changePicture(t))}),x,z]),C,P])])}));var B=n("a1e9");const I=Object(l["x"])("data-v-6c60a852"),T=I((function(e,t){const n=Object(l["s"])("Tile");return Object(l["o"])(),Object(l["f"])("div",{class:"grid-container",key:e.componentKey},[(Object(l["o"])(!0),Object(l["f"])(l["c"],null,Object(l["r"])(e.game.board,(t,r)=>(Object(l["o"])(),Object(l["f"])(n,{key:r,number:t,row:e.game.getRow(r)+1,column:e.game.getColumn(r)+1,imageSrc:e.imageSrc,opacity:e.game.isBlank(r)?"0.05":"1",canSlide:e.game.canSlide(r),onClick:t=>e.onClick(r,e.componentKey),class:"tile"},null,8,["number","row","column","imageSrc","opacity","canSlide","onClick"]))),128))])}));function R(e,t){return Object(l["o"])(),Object(l["f"])("div",{style:{"grid-row":e.row,"grid-column":e.column,width:"var(--tile-side)",height:"var(--tile-side)",overflow:"hidden",cursor:e.canSlide?"pointer":"default",opacity:e.opacity}},[Object(l["j"])("img",{src:e.imageSrc,title:e.number,style:{width:"var(--board-side)",height:"var(--board-side)","margin-left":"calc(var(--tile-side) * -"+(e.number-1)%3+")","margin-top":"calc(var(--tile-side) * -"+Math.trunc((e.number-1)/3)+")"}},null,12,["src","title"])],4)}var K={name:"Tile",props:{number:Number,row:Number,column:Number,imageSrc:String,opacity:String,canSlide:Boolean}};K.render=R;var N=K;let J=e=>{let t=0;for(let n=0;n<e.length-1;n++)for(let r=n+1;r<e.length;r++)e[n]>e[r]&&9!=e[n]&&9!=e[r]&&t++;return t%2},L=e=>{let t=[],n=[],r=J(e);do{t=[...e],n=[];while(t.length>0){let e=Math.floor(Math.random()*t.length);n.push(t.splice(e,1)[0])}}while(J(n)!=r);for(let l=0;l<e.length;l++)e[l]=n[l]},q=e=>{e.board=[...A];const t=1024;let n=0,r=1+Math.floor(5*Math.random()),l=!1;for(let o=0;o<r;o++){l=!1;while(!l){if(++n>=t)break;let r=Math.floor(9*Math.random());e.board[r]==r+1&&e.canSlide(r)&&(e.slide(r),l=!0)}}};const A=[1,2,3,4,5,6,7,8,9];class D{constructor(){this.board=[...A],this.count=0,this.initialize=()=>{console.clear(),console.log("initialize()");for(let e=0;e<A.length;e++)this.board[e]=A[e];this.count=0},this.shuffle=e=>{console.clear(),console.log("*"+e+"*"),e?q(this):L(this.board),this.count=0},this.isBlank=e=>9==this.board[e],this.getBlankIndex=()=>this.board.indexOf(9),this.getRow=e=>Math.trunc(e/3),this.getColumn=e=>e%3,this.canSlide=e=>{let t=this.getBlankIndex(),n=this.getRow(e),r=this.getColumn(e),l=this.getRow(t),o=this.getColumn(t);return n==l&&1==Math.abs(r-o)||r==o&&1==Math.abs(n-l)},this.slide=e=>{let t=this.canSlide(e);if(t){let t=this.getBlankIndex(),n=this.board[t];this.board[t]=this.board[e],this.board[e]=n,this.count++}return t}}}var F=Object(B["g"])({clicks:[],game:new D}),U={name:"Board",components:{Tile:N},props:{msg:String,imageSrc:String},setup(e){const t=Object(B["g"])(F.game),n=Object(B["h"])(!1),r=e=>{F.game.slide(e)&&(n.value=!n.value),console.log("Move: "+e+", count: "+F.game.count+", board: "+t.board.join())},l=()=>{n.value=!n.value};return{game:t,componentKey:n,onClick:r,refresh:l}}};n("e6c7");U.render=T,U.__scopeId="data-v-6c60a852";var E=U;var G={name:"App",components:{Board:E},setup(){let e="kids"===new URLSearchParams(window.location.search).get("mode");console.log("?mode=kids "+e);const t=Object(B["h"])(null),n=Object(B["h"])(null),r=Object(B["h"])(null);Object(l["m"])(()=>{t.value=()=>{n.value.click()}});const o=Object(B["h"])(()=>{console.log("suffle =... "+e),F.game.shuffle(e),r.value.refresh()}),i=Object(B["h"])(()=>{F.game.initialize(),r.value.refresh()});return{changePicture:t,fileInput:n,board:r,shuffle:o,initialize:i}}};n("654d");G.render=_,G.__scopeId="data-v-39e9e382";var H=G;const Q=Object(r["a"])(H);Q.mount("#app")},"654d":function(e,t,n){},e6c7:function(e,t,n){}});
//# sourceMappingURL=app.fef7e3de.js.map